---
title: sql\xss\csrf
---

SQL注入
---
就是把SQL命令插入web表单，输入域名或者页面请求的查询字符串中，最终达到欺骗服务器执行恶意的SQL命令。

措施：
1. 始终不相信用户输入，进行校验，正则或者限制长度，对单引号和双'-'进行转换；
2. 始终不要使用动态拼装的SQL，可以使用参数化的SQL或者直接使用存储过程进行数据查询与存取；
3. 始终不要使用管理员权限的数据库连接，为每个应用使用单独的权限和有限的权限数据库连接；
4. 不要把机密信息用明文存放，加密或者处理密码和敏感信息。

XSS攻击
---
指的是攻击者向Web页面里插入恶意html标签或者js代码。比如，攻击者在论坛中放一个看似安全的链接，骗取用户单击并且窃取cookie中的用户私密信息；或者攻击者在论坛中加一个恶意表单，当用户提交表单的时候，却把信息传送到了攻击者的服务器中，而不是用户原本以为的信任站点。

防范：
1. 在代码对用户输入的地方和变量都需要仔细检查长度和对"<"">"";""'"等字符做过滤。
2. 在把任何内容写到页面之前都要进行编码，避免泄露htmltag。

如何避免 cookie信息被盗取
---
1. 首先，避免直接在 cookie中泄露用户隐私，例如E-mai、密码等。
2. 其次，使 cookie和系统ip绑定，降低 cookie泄露后的危险。这样攻击者得到的cookie没有实际价值，不可能拿来重放。如果网站不需要在浏览器端对 cookie进行操作，可以在 Set-Cookie末尾加上 HttpOnly防止 JavaScript代码直接获取 cookie。
3. 最后，尽量采用POST请求方式而非GET请求方式提交表单。

CSRF攻击
---
攻击者通过设置陷阱，强制对已完成的认证用户进行非预期的个人信息或设定信息等状态的更新。

要完成一次CSRF攻击，受害者必须依次完成两个步骤：
1. 登录受信任网站A，并在本地生成 cookie。
2. 在不登出A的情况下，访问危险网站B

防范：
1. 客户端页面中增加伪随机数。

你所了解的Web攻击技术有哪些
---
（1）XSS攻击：通过存在安全漏洞的Web网站，注册到用户的浏览器内，渲染非法的HTML标签或者运行非法的 JavaScript进行攻击的一种行为。

（2）SQL注入攻击：通过把SQL命令插入Web表单、输入域名或页面请求的查询字符串中，最终达到欺骗服务器执行恶意的SQL命令。

（3）CSRF攻击：攻击者通过设置陷阱，强制对已完成的认证用户进行非预期的个人信息或设定信息等状态的更新。