<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>目录 | Lynsey&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="This is a blog.">
    
    <link rel="preload" href="/blog/assets/css/0.styles.cd12c23a.css" as="style"><link rel="preload" href="/blog/assets/js/app.dd4e1206.js" as="script"><link rel="preload" href="/blog/assets/js/2.915bd00b.js" as="script"><link rel="preload" href="/blog/assets/js/18.6e857a47.js" as="script"><link rel="preload" href="/blog/assets/js/21.b2c3e483.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.c3aa3120.js"><link rel="prefetch" href="/blog/assets/js/11.fa1b225e.js"><link rel="prefetch" href="/blog/assets/js/12.1887387c.js"><link rel="prefetch" href="/blog/assets/js/13.543f9475.js"><link rel="prefetch" href="/blog/assets/js/14.d4c11c6a.js"><link rel="prefetch" href="/blog/assets/js/15.51fa06fa.js"><link rel="prefetch" href="/blog/assets/js/16.0513edff.js"><link rel="prefetch" href="/blog/assets/js/17.ba829a18.js"><link rel="prefetch" href="/blog/assets/js/19.b72828fa.js"><link rel="prefetch" href="/blog/assets/js/20.d9dc7438.js"><link rel="prefetch" href="/blog/assets/js/22.8de587dc.js"><link rel="prefetch" href="/blog/assets/js/23.844c83d8.js"><link rel="prefetch" href="/blog/assets/js/24.0b2101ea.js"><link rel="prefetch" href="/blog/assets/js/25.21877be1.js"><link rel="prefetch" href="/blog/assets/js/26.e3abe35f.js"><link rel="prefetch" href="/blog/assets/js/27.f6952382.js"><link rel="prefetch" href="/blog/assets/js/28.8205a419.js"><link rel="prefetch" href="/blog/assets/js/29.fcb980cb.js"><link rel="prefetch" href="/blog/assets/js/3.255d8bb3.js"><link rel="prefetch" href="/blog/assets/js/30.81e08e34.js"><link rel="prefetch" href="/blog/assets/js/31.acde6a06.js"><link rel="prefetch" href="/blog/assets/js/32.f7e64d1a.js"><link rel="prefetch" href="/blog/assets/js/33.15b69a05.js"><link rel="prefetch" href="/blog/assets/js/34.2a1b7776.js"><link rel="prefetch" href="/blog/assets/js/35.91d0ae37.js"><link rel="prefetch" href="/blog/assets/js/36.7e617b5a.js"><link rel="prefetch" href="/blog/assets/js/37.86f495f8.js"><link rel="prefetch" href="/blog/assets/js/38.de79957e.js"><link rel="prefetch" href="/blog/assets/js/39.6045945f.js"><link rel="prefetch" href="/blog/assets/js/4.2eaa7409.js"><link rel="prefetch" href="/blog/assets/js/40.3d576906.js"><link rel="prefetch" href="/blog/assets/js/41.a60550f1.js"><link rel="prefetch" href="/blog/assets/js/42.c823536e.js"><link rel="prefetch" href="/blog/assets/js/43.fa0cd042.js"><link rel="prefetch" href="/blog/assets/js/44.077e1e53.js"><link rel="prefetch" href="/blog/assets/js/45.542739c1.js"><link rel="prefetch" href="/blog/assets/js/46.9e25d7c0.js"><link rel="prefetch" href="/blog/assets/js/47.05d4a62a.js"><link rel="prefetch" href="/blog/assets/js/48.cd929d68.js"><link rel="prefetch" href="/blog/assets/js/49.4d61b315.js"><link rel="prefetch" href="/blog/assets/js/5.891c2f33.js"><link rel="prefetch" href="/blog/assets/js/50.4f77727f.js"><link rel="prefetch" href="/blog/assets/js/51.57882b3f.js"><link rel="prefetch" href="/blog/assets/js/52.283994db.js"><link rel="prefetch" href="/blog/assets/js/53.dfeff6d0.js"><link rel="prefetch" href="/blog/assets/js/54.53c4731b.js"><link rel="prefetch" href="/blog/assets/js/55.d3f0a745.js"><link rel="prefetch" href="/blog/assets/js/56.a30b992a.js"><link rel="prefetch" href="/blog/assets/js/57.444560bb.js"><link rel="prefetch" href="/blog/assets/js/58.5b821171.js"><link rel="prefetch" href="/blog/assets/js/59.87161cee.js"><link rel="prefetch" href="/blog/assets/js/6.b7753079.js"><link rel="prefetch" href="/blog/assets/js/60.2a9ada6a.js"><link rel="prefetch" href="/blog/assets/js/61.037c777d.js"><link rel="prefetch" href="/blog/assets/js/62.b9784aad.js"><link rel="prefetch" href="/blog/assets/js/63.0da090e0.js"><link rel="prefetch" href="/blog/assets/js/64.6452b78a.js"><link rel="prefetch" href="/blog/assets/js/65.5bf79c29.js"><link rel="prefetch" href="/blog/assets/js/66.90ce276c.js"><link rel="prefetch" href="/blog/assets/js/67.c68032ef.js"><link rel="prefetch" href="/blog/assets/js/68.953fb3ac.js"><link rel="prefetch" href="/blog/assets/js/69.f6ca5093.js"><link rel="prefetch" href="/blog/assets/js/7.a664d37c.js"><link rel="prefetch" href="/blog/assets/js/70.69707ea8.js"><link rel="prefetch" href="/blog/assets/js/71.b043a21f.js"><link rel="prefetch" href="/blog/assets/js/72.b3e3e775.js"><link rel="prefetch" href="/blog/assets/js/73.e62a7775.js"><link rel="prefetch" href="/blog/assets/js/74.919c110e.js"><link rel="prefetch" href="/blog/assets/js/75.069b0f91.js"><link rel="prefetch" href="/blog/assets/js/76.596f823c.js"><link rel="prefetch" href="/blog/assets/js/77.0444bdcc.js"><link rel="prefetch" href="/blog/assets/js/78.062fa1be.js"><link rel="prefetch" href="/blog/assets/js/79.7f6bb45d.js"><link rel="prefetch" href="/blog/assets/js/8.f554ec77.js"><link rel="prefetch" href="/blog/assets/js/80.3cf8b7d0.js"><link rel="prefetch" href="/blog/assets/js/81.308a288e.js"><link rel="prefetch" href="/blog/assets/js/82.6a494fdd.js"><link rel="prefetch" href="/blog/assets/js/83.9835abc6.js"><link rel="prefetch" href="/blog/assets/js/84.ccca3460.js"><link rel="prefetch" href="/blog/assets/js/9.6cbb2bac.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.cd12c23a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="https://github.com/dreamlixia/blog/raw/master/images/title.jpeg" alt="Lynsey's blog" class="logo"> <span class="site-name can-hide">Lynsey's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/src/前端/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/blog/src/面试题/HTML/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/blog/src/手写题/" class="nav-link">
  手写题
</a></div><div class="nav-item"><a href="/blog/src/算法题/JS/" class="nav-link">
  算法题
</a></div><div class="nav-item"><a href="/blog/src/操作手册/开发运行此项目/" class="nav-link">
  操作手册
</a></div><div class="nav-item"><a href="/blog/src/主页/" class="nav-link">
  主页
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/src/前端/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/blog/src/面试题/HTML/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/blog/src/手写题/" class="nav-link">
  手写题
</a></div><div class="nav-item"><a href="/blog/src/算法题/JS/" class="nav-link">
  算法题
</a></div><div class="nav-item"><a href="/blog/src/操作手册/开发运行此项目/" class="nav-link">
  操作手册
</a></div><div class="nav-item"><a href="/blog/src/主页/" class="nav-link">
  主页
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/" aria-current="page" class="active sidebar-link">目录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#手写object-create" class="sidebar-link">手写Object.create</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#防抖-debounce" class="sidebar-link">防抖(debounce)</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#节流-throttle" class="sidebar-link">节流(throttle)</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#promise" class="sidebar-link">Promise</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#原生xhr" class="sidebar-link">原生xhr</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#使用promise封装ajax" class="sidebar-link">使用Promise封装ajax</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#深浅拷贝" class="sidebar-link">深浅拷贝</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#异步循环打印" class="sidebar-link">异步循环打印</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#call、apply、bind" class="sidebar-link">call、apply、bind</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#快排" class="sidebar-link">快排</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#去重" class="sidebar-link">去重</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#数组扁平化" class="sidebar-link">数组扁平化</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#reduce使用场景-6种" class="sidebar-link">reduce使用场景(6种)</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#斐波那契数列" class="sidebar-link">斐波那契数列</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#杨辉三角" class="sidebar-link">杨辉三角</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#函数柯里化" class="sidebar-link">函数柯里化</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#es6类继承" class="sidebar-link">ES6类继承</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#给定一个整数数组-nums-和一个目标值-target-请你在该数组中找出和为目标值的那-两个-整数-并返回他们的数组下标" class="sidebar-link">给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标</a></li><li class="sidebar-sub-header"><a href="/blog/src/%E6%89%8B%E5%86%99%E9%A2%98/#手写promise-all" class="sidebar-link">手写Promise.all</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="手写object-create"><a href="#手写object-create" class="header-anchor">#</a> 手写Object.create</h2> <p>思路：将传入的对象作为原型</p> <div class="language- extra-class"><pre class="language-text"><code>function create(obj) {
    function F() {}
    f.prototype = obj
    return new F()
}
</code></pre></div><h2 id="防抖-debounce"><a href="#防抖-debounce" class="header-anchor">#</a> 防抖(debounce)</h2> <p><a href="https://dreamlixia.github.io/blog/#/src/%E9%9D%A2%E8%AF%95%E9%A2%98/JavaScript.html#%E9%98%B2%E6%8A%96-debounce" target="_blank" rel="noopener noreferrer">本博客面试题模块有解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>不管事件的触发频率有多高，一定在事件触发后的n秒后才执行，如果在n秒内再次触发了事件，那么以新的时间为准，n秒后再执行。</p> <div class="language- extra-class"><pre class="language-text"><code>function debounce(event, time) {
    let timer = null
    return function(...args) {
        if(timer) clearTimeout(timer)
        timer = setTimeout(() =&gt; {
            event.apply(this, args)
        }, time)
    }
}
</code></pre></div><p>有时候需要立即执行一次，再等后面事件触发后等待n秒执行。</p> <div class="language- extra-class"><pre class="language-text"><code>function debounce1(event, time) {
    let timer = null
    let flag = true
    return function(...args) {
        if(flag &amp;&amp; !timer) {
            event.apply(this, args)
            flag = false
        }
        if(timer) clearTimeout(timer)
        timer = setTimeout(() =&gt; {
            event.apply(this, args)
        }, time)
    }
}
</code></pre></div><h2 id="节流-throttle"><a href="#节流-throttle" class="header-anchor">#</a> 节流(throttle)</h2> <p>不管事件的触发频率有多高，只在单位时间内执行一次。</p> <div class="language- extra-class"><pre class="language-text"><code>function throttle(event, time) {
    let timer = null
    return function(...args) {
        if(!timer) {
            timer = setTimeout(() =&gt; {
                clearTimeout(timer)
                event.apply(this, args)
            }, time)
        }
    }
}
</code></pre></div><p>时间戳方式 ？</p> <div class="language- extra-class"><pre class="language-text"><code>function throttleTime(event, time) {
    let prev = 0
    let timer = null
    return function(...args) {
        if(Date.now() - prev &gt; time) {
            &lt;!-- ？？？ clearTimeout(timer) --&gt;
            event.apply(this, args)
            prev = Date.now()
        } else if(!timer) {
            timer = setTimeout(() =&gt; {
                clearTimeout(timer)
                event.apply(this, args)
            }, time)
        }
    }
}
</code></pre></div><h2 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h2> <div class="language- extra-class"><pre class="language-text"><code>const PENDING = 'pending'
const FULFILLED = 'fulfilled'
const REJECTED = 'rejected'

function MyPromise(executor) {
    this.state = PENDING
    this.value = null
    this.reason = null

    const resolve = (value) =&gt; {
        if(this.state == PENDING) {
            this.state = FULFILLED
            this.value = value
        }
    }
    const reject = (reason) =&gt; {
        if(this.state == PENDING) {
            this.state = REJECTED
            this.reason = reason
        }
    }

    try {
        executor &amp;&amp; executor(resolve, reject)
    } catch (reason) {
        reject(reason)
    }
}
</code></pre></div><h2 id="原生xhr"><a href="#原生xhr" class="header-anchor">#</a> 原生xhr</h2> <p>get</p> <div class="language- extra-class"><pre class="language-text"><code>/**
 * 1. 创建xhr对象
 * 2. open 请求方式，url
 * 3. send发送请求
 * 4. 监听xhr状态
 */
var xhr = new XHRHttpRequest()
xhr.open('GET', url)
xhr.send()
xhr.onreadystatechange = function() {
    if(xhr.readyState == 4 &amp;&amp; xhr.status == 200) {
        console.log(xhr.responseText)
    }
}
</code></pre></div><p>post</p> <div class="language- extra-class"><pre class="language-text"><code>/**
 * 1. 创建xhr对象
 * 2. open post， url
 * 3. 定义请求头
 * 4. send formData
 * 5， 监听xhr状态
 */
var xhrPost = new XMLHttpRequest()
xhrPost.open('POST', url)
xhrPost.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')
xhrPost.send('a=1&amp;b=2&amp;c=3')
xhrPost.onreadystatechange = function() {
    if(xhrPost.readyState == 4 &amp;&amp; xhrPost.status == 200) {
        console.log(xhrPost.responseText)
    }
}
</code></pre></div><h2 id="使用promise封装ajax"><a href="#使用promise封装ajax" class="header-anchor">#</a> 使用Promise封装ajax</h2> <div><img src="/blog/assets/img/usePromiseToAjax.b924d52c.jpg"></div> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><h2 id="深浅拷贝"><a href="#深浅拷贝" class="header-anchor">#</a> 深浅拷贝</h2> <p><strong>浅拷贝</strong></p> <ul><li>for...in 遍历原对象的属性 / Object.keys()</li></ul> <div class="language- extra-class"><pre class="language-text"><code>const obj = { a: { d: 1 }, b: 2, c: 3 }
function clone(target) {
    let cloneTarget = {}
    for(var key in target) { // for(var key of Object.keys(obj))
        cloneTarget[key] = target[key]
    }
    return cloneTarget
}
let obj1 = clone(obj)
obj.a.d = 'a'
console.log(obj1) // { a: { d: 'a' }, b: 2, c: 3 } 浅拷贝只有一层的对象不变，有子对象会变
</code></pre></div><ul><li>Object.entries</li></ul> <div class="language- extra-class"><pre class="language-text"><code>const obj = { a: { d: 1 }, b: 2, c: 3 }
function clone(target) {
    let cloneTarget = {}
    for(var [key, value] of Object.entries(obj)){
        cloneTarget[key] = value
    }
    return cloneTarget
}
var obj1 = clone(obj)
obj.a.d = 'd'
console.log(obj1) // 变了 { a: { d: 'd' }, b: 2, c: 3 }
</code></pre></div><ul><li>Object.assign / ...</li></ul> <div class="language- extra-class"><pre class="language-text"><code>let obj1 = {
    a: undefined,
    b: 1, 
    c: function() { console.log(1) },
    d: { x: '2' }
}
let obj2 = Object.assign({}, obj1) // 或 { ...obj1 }
obj1.d.x = '3'
console.log(obj2)
</code></pre></div><ul><li>lodash库的_.clone方法</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var _ = require('lodash')
var obj = {
    a: 1,
    b: { f: { g: 1 } },
    c: [1, 2, 3]
}
var obj1 = _.clone(obj)
console.log(obj.b.f === obj1.b.f) // true
</code></pre></div><ul><li>数组的concat / slice</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var c = [2, { age: '12' }]
var d = c.concat()
d[1].age = '100'
console.log(c) // c的值变了 [2, {age: '100'}]

var a = [1, { name: 'name' }]
var b = a.slice()
b[1].name = '111'
console.log(a) // a的值变了 [1, { name: '111' }]
</code></pre></div><p><strong>深拷贝</strong></p> <ul><li>JSON.stringify：弊端：忽略value为function, undefind, symbol, 并且在序列化BigInt时会抛出语法错误：TypeError: Do not know how to serialize a BigInt</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var obj = { a: 1, b: 2, c: 3 }
var obj2 = JSON.stringify(obj)
obj.a = 'a'
obj2 = JSON.parse(obj2)
console.log(obj, obj2) // {a: 'a', b: 2, c: 3} '{&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3}'
</code></pre></div><ul><li>lodash库中的_.cloneDeep方法</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var _ = require('lodash')
var obj1 = {
    a: 1,
    b: { f: { g: 1 } },
    c: [1, 2, 3]
}
var obj2 = _.cloneDeep(obj1)
console.log(obj1.b.f === obj2.b.f) // true
</code></pre></div><ul><li>递归，for...in循环，如果为属性对象则递归</li></ul> <div class="language- extra-class"><pre class="language-text"><code>let obj10 = { a: { d: 'd' }, b: [1, 2], c: undefined }
function cloneObj(obj) {
    let clone = {}
    for(let key in obj) {
        if(typeof obj[key] == 'object' &amp;&amp; obj[key] != null) {
            clone[key] = cloneObj(obj[key])
        } else {
            clone[key] = obj[key]
        }
    }
    return clone
}
let res = cloneObj(obj10)
obj10.a.d = 'ddd'
console.log(res) // 不变
</code></pre></div><h2 id="异步循环打印"><a href="#异步循环打印" class="header-anchor">#</a> 异步循环打印</h2> <p>用promise、async、await实现</p> <div class="language- extra-class"><pre class="language-text"><code>var sleep = function(time, i) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            resolve(i)
        }, time)
    })

}
var start = async function() {
    for(var i = 0; i &lt; 6; i ++) {
        const result = await sleep(1000, i)
        console.log('result =', result)
    }
}
start()

// Promise {&lt;pending&gt;}
// VM44795:13 result = 0
// VM44795:13 result = 1
// VM44795:13 result = 2
// VM44795:13 result = 3
// VM44795:13 result = 4
// VM44795:13 result = 5
</code></pre></div><h2 id="call、apply、bind"><a href="#call、apply、bind" class="header-anchor">#</a> call、apply、bind</h2> <p><a href="https://www.nowcoder.com/profile/539362727/codeBookDetail?submissionId=118943499" target="_blank" rel="noopener noreferrer">牛客题解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- extra-class"><pre class="language-text"><code>function applyThis(f, otarget) {
    return function() {
        return f.apply(otarget, arguments)
    }
}
function callThis(f, otarget) {
    return function() {
        return f.call(otarget, ...arguments)
    }
}
function bindThis(f, otarget) {
    return function() {
        return f.bind(otarget)
    }
}
</code></pre></div><h2 id="快排"><a href="#快排" class="header-anchor">#</a> 快排</h2> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><h2 id="去重"><a href="#去重" class="header-anchor">#</a> 去重</h2> <div class="language- extra-class"><pre class="language-text"><code>// 数组单个元素去重
/**
 * new Set
 */
var a1 = [1,1,3,4,5,5]
console.log([...new Set(a1)])
/**
 * Array.from(new Set(arr))
 */
console.log(Array.from(new Set(a1)))
/**
 * for [].push indexOf === -1 
 */
let list = []
for(var i = 0; i &lt; a1.length; i ++) { // forEach
    if(list.indexOf(a1[i]) == -1) {
        list.push(a1[i])
    }
}
console.log(list)
/**
 * reduce [] includes concat
 */
let res = a1.reduce((pre, cur) =&gt; {
    if(!pre.includes(cur)) {
        return pre.concat(cur)
    } else {
        return pre
    }
}, [])
console.log(res)
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>// 数组对象去重
// 待续……
</code></pre></div><h2 id="数组扁平化"><a href="#数组扁平化" class="header-anchor">#</a> 数组扁平化</h2> <div class="language- extra-class"><pre class="language-text"><code>var arr = [1,2,[3,4,[5],6],7,8]

// 待续……
</code></pre></div><h2 id="reduce使用场景-6种"><a href="#reduce使用场景-6种" class="header-anchor">#</a> reduce使用场景(6种)</h2> <p>求和、求乘积、去重、计算元素在数组中出现的次数、将二维或多维数组转化成一维数组、数组对象里的属性求和</p> <p><a href="https://dreamlixia.github.io/blog/#/src/%E5%89%8D%E7%AB%AF/JS/ES6%E6%8A%80%E5%B7%A7/reduce.html" target="_blank" rel="noopener noreferrer">本博客前端JS模块有解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>求和</p> <div class="language- extra-class"><pre class="language-text"><code>const arr = [1,2,3,4,5]
let sum = arr.reduce((pre, next) =&gt; {
    return pre + next
}, 0)
console.log(sum) // 15
</code></pre></div><p>求乘积</p> <div class="language- extra-class"><pre class="language-text"><code>const arr = [1,2,3,4,5]
let product = arr.reduce((pre, next) =&gt; {
    return pre * next
})
console.log(product) // 120
</code></pre></div><p>去重</p> <div class="language-const arr1 = [1,1,2,3,4,5,5,6] extra-class"><pre class="language-text"><code>const single = arr1.reduce((pre, cur) =&gt; {
    if(!pre.includes(cur)){
        return pre.concat(cur)
    } else {
        return pre
    }
}, [])
console.log(single) // [1, 2, 3, 4, 5, 6]
</code></pre></div><p>计算元素在数组中出现的次数</p> <div class="language- extra-class"><pre class="language-text"><code>let nums = arr1.reduce((pre, next) =&gt; {
    if(next in pre) {
        pre[next] ++
    } else {
        pre[next] = 1
    }
    return pre
}, {})
console.log(nums) // {1: 2, 2: 1, 3: 1, 4: 1, 5: 2, 6: 1}
</code></pre></div><p>多维数组转化成一维数组</p> <div class="language- extra-class"><pre class="language-text"><code>const arr2 = [1,2,[3,[4,[5],6]],7]
let flat = function(arr) {
    return arr.reduce((pre, next) =&gt; pre.concat(Array.isArray(next) ? flat(next) : next), [])
}
console.log(flat(arr2)) // [1, 2, 3, 4, 5, 6, 7]
</code></pre></div><p>二维数组转化成一维数组</p> <div class="language- extra-class"><pre class="language-text"><code>const arr3 = [[1,2],[3,4],[5,6]]
const result = function(arr) {
    return arr.reduce((pre, next) =&gt; pre.concat(next))
}
console.log(result(arr3)) // [1, 2, 3, 4, 5, 6]
</code></pre></div><p>数组对象里的属性求和</p> <div class="language- extra-class"><pre class="language-text"><code>let arrObj = [
    { name: 'name1', age: 10 },
    { name: 'name2', age: 20 },
    { name: 'name3', age: 30 },
    { name: 'name4', age: 40 },
]
let sums = function(arr, param) {
    return arr.reduce((pre, next) =&gt; (pre + next[param]), 0)
}
console.log(sums(arrObj, 'age')) // 100
</code></pre></div><h2 id="斐波那契数列"><a href="#斐波那契数列" class="header-anchor">#</a> 斐波那契数列</h2> <p><a href="https://leetcode.cn/problems/fei-bo-na-qi-shu-lie-lcof/" target="_blank" rel="noopener noreferrer">力扣原题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>答案需要取模 1e9+7（1000000007），如计算初始结果为：1000000008，请返回 1。</p> <p>0,1,1,2,3,5,8,13,21,34,…… 从第三项开始，每一项都等于前两项之和。</p> <div class="language- extra-class"><pre class="language-text"><code>var fib = function(n) {
    let data = 1000000007;
    if(n &lt; 2) {
        return n;
    } else {
        let p = 0, q = 0, r = 1;
        for(var i = 2; i &lt;= n; i ++) {
            p = q;
            q = r; 
            r = (p + q) % data;
        }
        return r;
    }
}
</code></pre></div><h2 id="杨辉三角"><a href="#杨辉三角" class="header-anchor">#</a> 杨辉三角</h2> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><p>自定义hook</p> <div class="language- extra-class"><pre class="language-text"><code> import React, { useState, useEffect } from 'react'

 function usePosition() {
    const [x, setX] = useState(0)
    const [y, setY] = useState(0)

    const handleMouseMove = (e) =&gt; {
       const { clientX, clientY } = e
       setX(clientX)
       setY(clientY)
    }

    useEffect(() =&gt; {
        document.addEventListener('mousemove', handleMouseMove)
        return () =&gt; {
            document.removeEventListener('mousemove', handleMouseMove)
        }
    })

    return [
        {x, y}
    ]
 }

 function Index () {
    const [ position ] = usePosition()
    return (
        &lt;div&gt;
            &lt;p&gt;x: {position.x} y: {position.y}&lt;/p&gt;
        &lt;/div&gt;
    )
 }

 export default Index
</code></pre></div><h2 id="函数柯里化"><a href="#函数柯里化" class="header-anchor">#</a> 函数柯里化</h2> <p>把接受多个参数的函数变成接受一个单一参数的函数，返回接受其余参数并且返回结果的新函数的技术。</p> <div class="language- extra-class"><pre class="language-text"><code>function currying(fn, ...args) {
    if(args.length &gt;= fn.length) {
        return fn(...args)
    } else {
        return (...args2) =&gt; currying(fn, ...args, ...args2)
    }
}
function fun(a,b,c) {
    return a+b+c
}
const resFun = currying(fun)
resFun(1)(2)(3)
</code></pre></div><h2 id="es6类继承"><a href="#es6类继承" class="header-anchor">#</a> ES6类继承</h2> <div class="language- extra-class"><pre class="language-text"><code>class Animal {
    head: 1,
    legs: 4,
    run: () =&gt; {
        console.log('run')
    }
}
var Cat extends Animal{}
Cat.hasFather = true
Cat.miaow = () =&gt; {
    console.log('miaow')
}
</code></pre></div><h2 id="给定一个整数数组-nums-和一个目标值-target-请你在该数组中找出和为目标值的那-两个-整数-并返回他们的数组下标"><a href="#给定一个整数数组-nums-和一个目标值-target-请你在该数组中找出和为目标值的那-两个-整数-并返回他们的数组下标" class="header-anchor">#</a> 给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标</h2> <div class="language- extra-class"><pre class="language-text"><code>/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
var twoSum = function(nums, target) {
    for(var i = 0; i &lt; nums.length; i ++){
        for(var j = i + 1; j &lt; nums.length; j ++){
            if(nums[i] == target - nums[j]){
                return [i, j]
            }
        }
    }
};
</code></pre></div><h2 id="手写promise-all"><a href="#手写promise-all" class="header-anchor">#</a> 手写Promise.all</h2> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div> <div class="gitalk-container"><div id="gitalk-container"></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">3/13/2023, 10:52:04 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.dd4e1206.js" defer></script><script src="/blog/assets/js/2.915bd00b.js" defer></script><script src="/blog/assets/js/18.6e857a47.js" defer></script><script src="/blog/assets/js/21.b2c3e483.js" defer></script>
  </body>
</html>
